<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="ReplState" timestamp="1418143280776">{:repl-history {:ide [], :local [&quot;(ns geo-coding.core\n  (:require [clj-http.client :as client]))&quot; &quot;(defn get-coordinate\n  [original-address]\n  (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n              {:query-params {\&quot;address\&quot; original-address\n                              \&quot;output\&quot; \&quot;json\&quot;\n                              \&quot;ak\&quot; \&quot;zPn3027FC4oE1TtC7Pqgp08e\&quot;}}))&quot; &quot;(get-coordinate \&quot;北京市朝阳区通惠家园3号楼1单元102\&quot;)&quot; &quot;(ns geo-coding.core\n  (:require [clj-http.client :as client]\n            [cheshire.core :refer :all]))&quot; &quot;(defn get-coordinate\n  [original-address]\n  (let [body (:body (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                         {:query-params {\&quot;address\&quot; original-address\n                                         \&quot;output\&quot; \&quot;json\&quot;\n                                         \&quot;ak\&quot; \&quot;zPn3027FC4oE1TtC7Pqgp08e\&quot;}}))\n        body (parse-string body true)]\n    body\n\n    ))&quot; &quot;(get-coordinate \&quot;虾米城市\&quot;)&quot; &quot;(defn get-coordinate\n  [original-address]\n  (let [body (:body (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                         {:query-params {\&quot;address\&quot; original-address\n                                         \&quot;output\&quot; \&quot;json\&quot;\n                                         \&quot;ak\&quot; \&quot;zPn3027FC4oE1TtC7Pqgp08e\&quot;}}))\n        body (parse-string body true)]\n    (when (= 0 (:status body))\n      (:result body))))&quot; &quot;(defn get-coordinate\n  [original-address]\n  (let [body (:body (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                         {:query-params {\&quot;address\&quot; original-address\n                                         \&quot;output\&quot; \&quot;json\&quot;\n                                         \&quot;ak\&quot; \&quot;zPn3027FC4oE1TtC7Pqgp08e\&quot;}}))\n        body (parse-string body true)]\n    (when (= 0 (:status body))\n      (assoc (:result body) :original_address original-address))))&quot; &quot;(defn ^:dynamic *ak* \&quot;zPn3027FC4oE1TtC7Pqgp08e\&quot;)&quot; &quot;(def ^:dynamic *ak* \&quot;zPn3027FC4oE1TtC7Pqgp08e\&quot;)&quot; &quot;(defn get-coordinate\n  [original-address]\n  (let [body (:body (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                         {:query-params {\&quot;address\&quot; original-address\n                                         \&quot;output\&quot; \&quot;json\&quot;\n                                         \&quot;ak\&quot; *ak*}}))\n        body (parse-string body true)]\n    (when (= 0 (:status body))\n      (assoc (:result body) :original_address original-address))))&quot; &quot;(defn get-location\n  [input]\n  (when input\n    (let [lng (get-in input [:location :lng])\n          lat (get-in input [:location :lat])\n          body (:body\n                (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                            {:query-params {\&quot;ak\&quot; *ak*\n                                            \&quot;callback\&quot; \&quot;renderReverse\&quot;\n                                            \&quot;location\&quot; (str lat \&quot;,\&quot; lng)\n                                            \&quot;output\&quot; \&quot;json\&quot;\n                                            \&quot;pois\&quot; \&quot;0\&quot;}}))])))&quot; &quot;(defn get-location\n  [input]\n  (when input\n    (let [lng (get-in input [:location :lng])\n          lat (get-in input [:location :lat])\n          body (:body\n                (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                            {:query-params {\&quot;ak\&quot; *ak*\n                                            \&quot;callback\&quot; \&quot;renderReverse\&quot;\n                                            \&quot;location\&quot; (str lat \&quot;,\&quot; lng)\n                                            \&quot;output\&quot; \&quot;json\&quot;\n                                            \&quot;pois\&quot; \&quot;0\&quot;}}))]\n      body)))&quot; &quot;(get-location (get-coordinate \&quot;\&quot;北京市丰台区四方景园一区1号楼2402\&quot;\&quot;))&quot; &quot;(defn get-location\n  [input]\n  (when input\n    (let [lng (get-in input [:location :lng])\n          lat (get-in input [:location :lat])\n          body (:body\n                (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                            {:query-params {\&quot;ak\&quot; *ak*\n                                            \&quot;callback\&quot; \&quot;renderReverse\&quot;\n                                            \&quot;location\&quot; (str lat \&quot;,\&quot; lng)\n                                            \&quot;output\&quot; \&quot;json\&quot;\n                                            \&quot;pois\&quot; \&quot;0\&quot;}}))\n          body (parse-string body true)]\n      body)))&quot; &quot;(get-coordinate \&quot;北京市丰台区四方景园一区1号楼2402\&quot;)&quot; &quot;(defn get-location\n  [input]\n  (when input\n    (let [lng (get-in input [:location :lng])\n          lat (get-in input [:location :lat])\n          body (:body\n                (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                            {:query-params {\&quot;ak\&quot; *ak*\n                                            ;\&quot;callback\&quot; \&quot;renderReverse\&quot;\n                                            \&quot;location\&quot; (str lat \&quot;,\&quot; lng)\n                                            \&quot;output\&quot; \&quot;json\&quot;\n                                            \&quot;pois\&quot; \&quot;0\&quot;}}))\n          body (parse-string body true)]\n      body)))&quot; &quot;(get-location (get-coordinate \&quot;北京市丰台区四方景园一区1号楼2402\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;北京市通州区永乐店镇南堤寺村西队170号\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;银河SOHOD2座51705\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;北京银河SOHOD2座51705\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;北京市银河SOHOD2座51705\&quot;))&quot; &quot;(defn get-coordinate\n  [original-address &amp; [city]]\n  (let [body (:body (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                         {:query-params {\&quot;address\&quot; original-address\n                                         \&quot;output\&quot; \&quot;json\&quot;\n                                         \&quot;ak\&quot; *ak*\n                                         \&quot;city\&quot; city}}))\n        body (parse-string body true)]\n    (when (= 0 (:status body))\n      (assoc (:result body) :original_address original-address))))&quot; &quot;(defn get-location\n  [input]\n  (when input\n    (let [lng (get-in input [:location :lng])\n          lat (get-in input [:location :lat])\n          body (:body\n                (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                            {:query-params {\&quot;ak\&quot; *ak*\n                                            \&quot;location\&quot; (str lat \&quot;,\&quot; lng)\n                                            \&quot;output\&quot; \&quot;json\&quot;\n                                            \&quot;pois\&quot; \&quot;0\&quot;}}))\n          body (parse-string body true)]\n      body)))&quot; &quot;(get-location (get-coordinate \&quot;北京市银河SOHO\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;北海北夹道6号\n\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;北海北夹道6号\n\&quot; \&quot;北京\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;金顶街\n\&quot; \&quot;北京\&quot;))&quot; &quot;(defn get-location\n  [input]\n  (when input\n    (let [lng (get-in input [:location :lng])\n          lat (get-in input [:location :lat])\n          body (:body\n                (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                            {:query-params {\&quot;ak\&quot; *ak*\n                                            \&quot;location\&quot; (str lat \&quot;,\&quot; lng)\n                                            \&quot;output\&quot; \&quot;json\&quot;\n                                            \&quot;pois\&quot; \&quot;0\&quot;}}))\n          body (parse-string body true)]\n      (into (dissoc body :location) input))))&quot; &quot;(defn get-location\n  [input]\n  (when input\n    (let [lng (get-in input [:location :lng])\n          lat (get-in input [:location :lat])\n          body (:body\n                (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                            {:query-params {\&quot;ak\&quot; *ak*\n                                            \&quot;location\&quot; (str lat \&quot;,\&quot; lng)\n                                            \&quot;output\&quot; \&quot;json\&quot;\n                                            \&quot;pois\&quot; \&quot;0\&quot;}}))\n          body (parse-string body true)]\n      (into (dissoc (result body) :location) input))))&quot; &quot;(defn get-location\n  [input]\n  (when input\n    (let [lng (get-in input [:location :lng])\n          lat (get-in input [:location :lat])\n          body (:body\n                (client/get \&quot;http://api.map.baidu.com/geocoder/v2/\&quot;\n                            {:query-params {\&quot;ak\&quot; *ak*\n                                            \&quot;location\&quot; (str lat \&quot;,\&quot; lng)\n                                            \&quot;output\&quot; \&quot;json\&quot;\n                                            \&quot;pois\&quot; \&quot;0\&quot;}}))\n          body (parse-string body true)]\n      (into (dissoc (:result body) :location) input))))&quot; &quot;(get-location (get-coordinate \&quot;金顶街\&quot; \&quot;北京\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;金顶街\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;郭庄三条街12号\n\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;郭庄三条街12号\&quot; \&quot;北京\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;革新里2号楼5门102号\n\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;回龙观镇万润家园13号楼6号底商北京君蓝门诊部\n\&quot;))&quot; &quot;(get-location (get-coordinate \&quot;南四环西路科技城东怡海花园富润园2#1201\n\&quot;))&quot;], :remote []}}</component>
</project>

